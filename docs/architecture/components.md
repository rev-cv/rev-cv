# Компоненты

## Обзор

Проект использует компонентную архитектуру на основе Astro. Все компоненты находятся в папке `src/components/` и следуют единым принципам разработки.

## Принципы компонентов

- **Единая ответственность** - каждый компонент решает одну задачу
- **Переиспользование** - компоненты можно использовать в разных местах
- **Типизация** - все props типизированы через TypeScript
- **Стилизация** - стили инкапсулированы внутри компонента
- **Интерактивность** - JavaScript логика изолирована

## Структура компонента

```astro
---
// 1. Импорты
import SomeComponent from './SomeComponent.astro';
import type { SomeType } from '../types/SomeType';

// 2. Props и типы
interface Props {
    title: string;
    description?: string;
}

const { title, description = 'Default description' } = Astro.props;

// 3. Данные и логика
const data = await fetchData();
---

<!-- 4. HTML разметка -->
<div class="component">
    <h2>{title}</h2>
    <p>{description}</p>
</div>

<!-- 5. Стили -->
<style lang="scss">
    .component {
        // SCSS стили
    }
</style>

<!-- 6. JavaScript (если нужен) -->
<script>
    // Интерактивная логика
</script>
```

## HeroBanner.astro

### Назначение
Главный баннер сайта с информацией о разработчике и переключением ролей.

### Props
```typescript
interface Props {
    resume: PortfolioItem; // Данные текущей роли
}
```

### Функциональность
- Отображение имени и роли разработчика
- Переключение между доступными ролями
- Социальные ссылки
- Анимированные переходы
- Адаптивная верстка

### Ключевые особенности
- **Динамическая загрузка ролей** через `import.meta.glob`
- **Интерактивное меню** с анимациями
- **Grid layout** для адаптивности
- **CSS переменные** для темизации

### Использование
```astro
---
import HeroBanner from '../components/HeroBanner.astro';
import resume from '../data/portfolios/react-developer.json';
---

<HeroBanner resume={resume} />
```

## Header.astro

### Назначение
Навигационная панель с меню и эффектом прокрутки.

### Функциональность
- Адаптивное меню навигации
- Эффект размытия при прокрутке
- Hover анимации для кнопок
- Ссылка на блог

### Ключевые особенности
- **Фиксированное позиционирование**
- **Backdrop filter** для эффекта размытия
- **Smooth transitions** для анимаций
- **Responsive design**

## Layout.astro

### Назначение
Базовый HTML шаблон для всех страниц.

### Функциональность
- HTML структура документа
- Подключение глобальных стилей
- Мета-теги и SEO
- Подключение шрифтов
- Включение Header компонента

### Ключевые особенности
- **Семантическая разметка**
- **SEO оптимизация**
- **Подключение шрифтов** с preconnect
- **Слот для контента** страниц

## Welcome.astro

### Назначение
Приветственный блок (временно отключен).

### Статус
Компонент создан, но не используется в текущей версии.

## Стилизация компонентов

### SCSS структура
```scss
.component {
    // Основные стили
    
    &__element {
        // Элемент по BEM
    }
    
    &--modifier {
        // Модификатор по BEM
    }
    
    &:hover {
        // Hover состояния
    }
    
    @media (max-width: 768px) {
        // Мобильные стили
    }
}
```

### CSS переменные
Используйте переменные из `colors.scss`:
```scss
.component {
    color: var(--color-basic-white);
    background: var(--color-azure);
    
    &:hover {
        background: var(--color-azure-light);
    }
}
```

## Интерактивность

### JavaScript в компонентах
```astro
<script>
    // Логика выполняется в браузере
    window.addEventListener("DOMContentLoaded", () => {
        // Инициализация
    });
</script>
```

### События
- `click` - клики по элементам
- `scroll` - прокрутка страницы
- `mousedown` - клики вне области
- `DOMContentLoaded` - загрузка DOM

## Тестирование компонентов

### Ручное тестирование
1. Проверка отображения на разных экранах
2. Тестирование интерактивности
3. Проверка доступности
4. Валидация HTML/CSS

### Автоматическое тестирование
Рекомендуется добавить:
- Unit тесты для логики
- E2E тесты для интерактивности
- Visual regression тесты

## Лучшие практики

### Именование
- Компоненты в PascalCase: `HeroBanner.astro`
- CSS классы по BEM: `hero-banner__content`
- Переменные в camelCase: `myVariable`

### Производительность
- Минимизируйте JavaScript
- Используйте CSS анимации вместо JS
- Оптимизируйте изображения
- Lazy loading для тяжелых компонентов

### Доступность
- Семантическая разметка
- ARIA атрибуты
- Keyboard navigation
- Screen reader поддержка

### Поддержка
- Документируйте props
- Добавляйте комментарии к сложной логике
- Используйте TypeScript для типизации
- Следуйте единому стилю кода
