---
import SVGFeather from "../assets/feather.svg";
---

<header>
    <div>
        <menu class="container">
            <div class="navigator">
                <button>Главная</button>
                <button>Обо мне</button>
                <button>Проекты</button>
                <button>Навыки</button>
                <button>Контакты</button>
            </div>
            <a href=""><SVGFeather /></a>
        </menu>
    </div>
</header>

<style lang="scss">
    @media (min-width: 701px) {
        header {
            height: 6em;
            z-index: 100;

            > div {
                padding: 0.8em;
                position: fixed;
                width: 100%;
            }

            menu {
                background-color: transparent;
                width: 100%;
                display: flex;
                justify-content: space-between;
                padding: 0.8em;
                border-radius: 6px;
                border: 1px solid transparent;
                transition:
                    background-color 300ms ease-in-out,
                    max-width 300ms ease-in-out,
                    backdrop-filter 300ms ease-in-out;

                &.scrolled {
                    max-width: 1000px;
                    background-color: rgba(17, 17, 17, 0.6);
                    backdrop-filter: blur(6px);
                }

                button,
                a {
                    color: var(--color-basic-white-80);
                    text-decoration: none;
                    padding: 0.5em;
                    font-size: 0.8em;
                    border-radius: 0.3em;
                    position: relative;
                    overflow: hidden;
                    cursor: pointer;
                    transition: color 300ms ease-in-out;

                    &::before {
                        content: "";
                        position: absolute;
                        inset: 0;
                        background-color: transparent;
                        transition: background-color 300ms ease-in-out;
                    }

                    &:hover::before {
                        background-color: var(--color-button-hover-bg);
                    }

                    &:hover {
                        color: var(--color-basic-white);
                    }

                    svg {
                        width: 1.3em;
                        height: 1.3em;
                    }
                }

                > a {
                    display: flex;
                    align-items: center;
                    gap: 0.5em;

                    svg {
                        width: 1.5em;
                        height: 1.5em;
                    }
                }
            }

            .navigator {
                display: flex;
                gap: 0.3em;
            }
        }
    }
</style>

<style lang="scss">
    @media (max-width: 700px) {
        header {
            height: 6em;
            z-index: 100;

            > div {
                position: fixed;
                width: 100%;
            }

            .navigator {
                display: none;
            }

            .container {
                display: flex;
                justify-content: flex-end;
                padding: 0.8em;
                border-radius: 6px;
            }

            .container > a {
                color: var(--color-basic-white-80);
                text-decoration: none;
                padding: 10px;

                svg {
                    width: 1.3em;
                    height: 1.3em;
                }
            }
        }
    }
</style>

<script>
    /**
     * Обработчик прокрутки страницы для Header
     * Добавляет эффект размытия и изменения стилей при прокрутке
     */
    window.addEventListener("scroll", () => {
        const menu = document.querySelector("header > div > menu");
        if (!menu) return;

        /** Порог прокрутки в пикселях для активации эффекта */
        const scrollThreshold = 60;

        if (window.scrollY > scrollThreshold) {
            menu.classList.add("scrolled");
        } else {
            menu.classList.remove("scrolled");
        }
    });
</script>
