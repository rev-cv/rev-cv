---
title: "Chrome Extention «TabEx»"
descr: "TabEx — это расширение для браузера Chrome, созданное для эффективного управления вкладками."
url: "chrome-ext-tabex"
tech:
    - "Extension API"
    - "JS"
    - "CSS"
    - "SVG sprites"
    - "Dexie.js"
cover: "vid/tabex-cover.mp4"
media:
code_url: "https://github.com/rev-cv/tab-extension"
demo_url: ""
macket_url: ""
---

![](https://github.com/rev-cv/tab-extension/raw/main/icons/logo.svg)

TabEx - это мощное расширение Chrome, которое поможет вам эффективно управлять своими вкладками браузера. Забудьте про беспорядок и потерянные ссылки - TabEx предоставляет полный контроль над вашими вкладками. Ключевые возможности:

✓ Управление вкладками: Закрывайте ненужные вкладки, сортируйте их по своему усмотрению. TabEx позволит быстро навести порядок в браузере.

✓ Сессии вкладок: Не теряйте важные вкладки! Сохраняйте текущий набор вкладок в виде сессий для быстрого доступа позже.

✓ Фильтрация вкладок: Находите нужные вкладки с помощью удобной системы фильтров. Сортируйте по названию, тегам или описанию.

✓ Теги и описания: Присваивайте тематические теги и добавляйте описания к вкладкам. Это упрощает поиск и категоризацию.

TabEx идеально подойдет для тех, кто часто работает с множеством вкладок в Chrome. Повысьте свою продуктивность и эффективность с этим мощным инструментом управления вкладками. Попробуйте TabEx уже сегодня!

---

### Контекст и цель

TabEx — это расширение для браузера Chrome, созданное для эффективного управления вкладками. Идея проекта родилась из личного опыта использования популярного расширения OneTab. Несмотря на привлекательный минимализм, OneTab имел существенные ограничения: отсутствие возможности добавлять описания или теги, а также серьезные проблемы с производительностью при работе с большим количеством сохраненных вкладок.

TabEx был разработан с целью решить эти проблемы, предоставив пользователю простой, но гораздо более мощный и производительный инструмент. Важно отметить, что на момент конца 2025 года существует новая бета-версия OneTab с расширенным функционалом. Однако TabEx по-прежнему предлагает уникальные возможности, такие как добавление подробных описаний и система тегов. Основная задача TabEx — повысить продуктивность и снизить информационную перегрузку, дав пользователю функции, которых нет в аналогах.

### Ключевые функциональные решения

В основе архитектуры лежит несколько ключевых решений, которые определяют гибкость и удобство использования расширения:

**Расширенное управление сессиями (группами):** В отличие от простого списка, TabEx использует концепцию "сессий". Это позволяет объединять вкладки по тематическому признаку (например, "Работа", "Исследование"), присваивать сессиям имена и легко управлять ими.

**Управление открытыми вкладками:** Расширение позволяет работать не только с сохраненными, но и с текущими открытыми вкладками браузера. Реализована полезная функция сортировки активных вкладок прямо в окне браузера по домену или заголовку, что помогает быстро навести порядок "на лету".

**Локальное хранилище на стороне клиента:** Для хранения данных (сессий, вкладок, тегов) была выбрана библиотека `Dexie.js`, которая является удобной оберткой над `IndexedDB`. Это решение позволило создать полностью автономное расширение, не требующее серверной части и регистрации. Все данные пользователя хранятся локально, что гарантирует приватность и высокую скорость работы.

**Динамическое обновление интерфейса:** Для обеспечения плавной и отзывчивой работы интерфейса была реализована логика, которая минимизирует количество перерисовок DOM. Например, при обновлении списка текущих открытых вкладок, система не пересоздает весь список, а точечно обновляет только измененные элементы (заголовок, иконку) и добавляет/удаляет только необходимые вкладки.

**Гибкая система фильтрации и тегирования:** Поиск нужной информации реализован через многогранную систему фильтрации. Пользователь может искать вкладки по названию, URL, домену, описанию и, что особенно важно, по тегам. Теги можно добавлять в описание вкладки, и система автоматически их распознает, создавая удобный инструмент для категоризации.

### Технические детали

Проект реализован с использованием "ванильного" стека технологий, что делает его легковесным и быстрым.

- **Ядро:** `JavaScript` (ES6+), `HTML5`, `CSS3`.
- **База данных:** `IndexedDB` через обертку `Dexie.js` для удобной работы с асинхронными транзакциями и структурированными данными (таблицы для вкладок, сессий и тегов).
- **Chrome Extension API:** Активно используются `chrome.tabs` для взаимодействия с вкладками браузера (создание, закрытие, перемещение, получение информации), `chrome.windows` и `chrome.action` для управления поведением иконки расширения.
- **Архитектура кода:** Код структурирован по модульному принципу. Отдельные файлы отвечают за свою зону ответственности:
    - `storage.js`: инкапсулирует всю логику работы с базой данных (сохранение, удаление, обновление, поиск).
    - `group-management.js`: отвечает за управление группами (сортировка, фильтрация).
    - `current-group.js`: управляет отображением и обновлением списка текущих открытых вкладок.
    - `popups.js`, `set-group.js`, `sprite-svg.js`: вспомогательные модули для работы с UI.
- **Экспорт/Импорт:** Реализована собственная система импорта/экспорта, которая сохраняет всю структуру сессий и метаданные (описания, теги), в отличие от простых текстовых форматов. Дополнительно была создана совместимость с форматом экспорта OneTab, что позволяет пользователям легко мигрировать на TabEx.

### Достижения и результаты

**Продуманный пользовательский опыт:** Несмотря на отсутствие фреймворков, удалось создать интуитивно понятный и отзывчивый интерфейс. Особое внимание было уделено мелким деталям, таким как плавная анимация, динамическое обновление счетчиков и избегание "дергания" интерфейса при обновлении данных.

**Эффективная работа с данными:** Реализована надежная система хранения данных на `IndexedDB`, способная обрабатывать большое количество вкладок и сессий без потери производительности. Асинхронная природа `Dexie.js` позволила избежать блокировки основного потока и сохранить отзывчивость интерфейса.

**Комплексная система фильтрации:** Создана мощная функция поиска, которая позволяет комбинировать различные условия и находить нужную информацию за считанные секунды. Это ключевая функция, которая выделяет TabEx на фоне более простых менеджеров вкладок.

### Сложности и их решение

**Первый опыт и отсутствие инструментов.** Этот проект был моей первой попыткой создать расширение для браузера, поэтому процесс разработки шел параллельно с изучением `Chrome Extension API` и сопутствующих технологий. Кроме того, проект сознательно создавался без использования современных сборщиков (Webpack, Parcel), что требовало более тщательной ручной организации кода и зависимостей, но позволило добиться максимальной "чистоты" и легковесности итогового продукта. Преодоление этих сложностей потребовало глубокого погружения в документацию и многочисленных экспериментов. Отсутствие автоматизированных инструментов было компенсировано строгой организацией файловой структуры и ручным контролем зависимостей, что в итоге дало полное понимание всего жизненного цикла расширения.

**Синхронизация состояния.** Одной из главных сложностей была синхронизация состояния между реальными вкладками в браузере и их отображением в интерфейсе расширения. Пользователь может в любой момент закрыть, открыть или перейти на другую вкладку, и расширение должно мгновенно на это реагировать. Эта проблема была решена с помощью слушателей событий `Chrome Extension API` (`chrome.tabs.onRemoved`, `chrome.tabs.onCreated`, `chrome.tabs.onUpdated`). Была написана функция `updateCurrentSession__V4`, которая вызывается при любом из этих событий. Она получает актуальный список вкладок, сравнивает его с предыдущим состоянием, хранящимся в переменной, и точечно вносит изменения в DOM, вместо полной перерисовки. Это позволило добиться быстрой и плавной синхронизации.

**Работа с иконками сайтов (favicons).** Иконки могут быть недоступны, иметь разные форматы или отсутствовать вовсе. Кроме того, для одного и того же домена иконка может появиться не сразу. Была создана "детективная" функция `detectiveIcons`. Когда вкладка загружается и ее `favIconUrl` становится доступен, эта функция ищет в базе данных все остальные вкладки с таким же доменом, у которых иконка отсутствует, и проставляет им найденную иконку. Это позволяет "обогащать" данные и постепенно заполнять пробелы в иконках для уже сохраненных вкладок.

### Будущее проекта и извлеченные уроки

После успешного запуска первой версии была начата работа над V2 с использованием React. Это было шагом в сторону более современных практик веб-разработки, который позволил бы сделать интерфейс еще более сложным и интерактивным.

Несмотря на то, что первая версия работала стабильно и решала поставленные задачи, отсутствие обратной связи и смещение фокуса на другие проекты привели к тому, что разработка V2 была приостановлена. Этот опыт стал важным уроком о необходимости сбора фидбэка и планирования ресурсов для поддержки и развития продукта даже после его первоначального выпуска.
